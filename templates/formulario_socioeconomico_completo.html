
<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Formulario Socioeconómico</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        body {
            background: linear-gradient(to right, #f8f9fa, #e3f2fd);
        }
        .accordion-button {
            background-color: #0d6efd;
            color: white;
        }
        .accordion-button:not(.collapsed) {
            background-color: #0b5ed7;
        }
        
    </style>
</head>
<body>
    
<div class="container py-4"><form action="/logout" method="get"><button type="submit">Cerrar sesión</button></form> 
    <h2 class="text-center text-primary mb-4">Formulario Socioeconómico</h2>

    <!-- Barra de progreso -->
    <div class="mb-4">
        <label class="form-label">Progreso del formulario</label>
        <div class="progress">
            <div class="progress-bar progress-bar-striped progress-bar-animated" role="progressbar" style="width: 0%;" aria-valuenow="60" aria-valuemin="0" aria-valuemax="100">60%</div>
        </div>
    </div>

    <!-- Acordeones -->
     <form action="/datos_socioeconomicos" method="post">
    <div class="accordion" id="formAccordion">
        <div class="accordion-item">
            <h2 class="accordion-header" id="headingGeneral">
                <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapseGeneral" aria-expanded="true" aria-controls="collapseGeneral">
                    Datos Generales
                </button>
            </h2>
            <div id="collapseGeneral" class="accordion-collapse collapse show" aria-labelledby="headingGeneral" data-bs-parent="#formAccordion">
                <div class="accordion-body">
                    <!-- Aquí van los campos generales -->
                    <div><label for="l2">Ingrese su CURP:</label><br>
                    <input type="text" id="curp" name="curp" required><br><br></div>
                    <div><label for="l5">Sexo:</label><br>
                    <select name="sexo"><option value="Hombre">Hombre</option>
                            <option value="Mujer">Mujer</option> </select><br><br></div>
                    <div><label for="l6">Tel Celular:</label><br>
                    <input type="text" id="celular" name="celular" required><br><br></div>
                    <div><label for="l7">Tel Fijo:</label><br>
                    <input type="text" id="telfijo" name="telfijo" required><br><br></div>
                </div>
            </div>
        </div>

        <div class="accordion-item">
            <h2 class="accordion-header" id="headingVivienda">
                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseVivienda" aria-expanded="false" aria-controls="collapseVivienda">
                    Vivienda
                </button>
            </h2>
            <div id="collapseVivienda" class="accordion-collapse collapse" aria-labelledby="headingVivienda" data-bs-parent="#formAccordion">
                <div class="accordion-body">
                    <div class="mb-3">
                        <label for="vivienda" class="form-label">Tipo de vivienda</label><br>
                        <select name="tipo_vivienda">
                        <option value="Casa independiente">Casa independiente</option>
                        <option value="Anexo a casa">Anexo a casa</option>
                        <option value="Vivienda movil">Vivienda movil</option>
                        <option value="Vivienda o cuarto en vencidad">Vivienda o cuarto en vencidad</option>
                        <option value="Vivienda en construcción no habitada">Vivienda en construcción no habitada</option>
                        <option value="Asilo, orfanato o convento">Asilo, orfanato o convento</option>
                        <option value="Refugio">Refugio</option>
                        <option value="Vivienda o cuarto en azotea">Vivienda o cuarto en azotea</option>
                        <option value="Departamento en edificio/Unidad habitacional">Departamento en edificio/Unidad habitacional</option>
                        </select>
                </div>
                <div>
                    <label for="l172">¿Cuántas personas forman parte <br>de su familia, habitan en la misma <br>
                                        vivienda contando a los niños  <br>pequeños, y adultos mayores?</h4></label><br>
                    <label for="l8">hombres:</label><br> 
                    <input type="text" id="thombres" name="thombres" required><br><br>
                    <label for="l9">mujeres:</label><br> 
                    <input type="text" id="tmujeres" name="tmujeres" required><br><br>
                    <label for="l10">Total:</label><br> 
                    <input type="text" id="tpersonas" name="tpersonas" required><br><br>
                </div>
                <div><label for="l18">¿Cuántos cuartos tiene en total su vivienda,<br>contando la cocina? (sin contar pasillos ni baños) </label><br>
                <input type="text" id="cuartos" name="cuartos" required><br><br>
                </div>
                <div> <label for="l19">¿Cuántos cuartos usan para dormir? </label><br>
                <input type="text" id="dormitorios" name="dormitorios" required><br><br>
                </div>
                <div><label for="l20">¿De qué material es la mayor parte del piso de su vivienda?</label><br> 
                <select name="material_piso"><option value="Tierra">Tierra</option>
                        <option value="Cemento">Cemento</option>
                        <option value=" Mosaico, madera u otro recubrimiento"> Mosaico, madera u otro recubrimiento</option></select><br><br>
                </div>
                <div><label for="l21"> ¿De qué material es la mayor parte del techo de su vivienda?</label><br> 
                <select name="material_techo" ><option value="Material de desecho (cartón, hule, tela, llanta)">Material de desecho (cartón, hule, tela, llanta)</option>
                        <option value="Lámina de cartón">Lámina de cartón</option>
                        <option value="Lámina metálica / asbesto">Lámina metálica / asbesto</option>
                        <option value="Vivienda o cuarto en vencidad">Vivienda o cuarto en vencidad</option>
                        <option value="Palma o paja">Palma o paja</option>
                        <option value="Losa de concreto o viguetas con bovedilla">Losa de concreto o viguetas con bovedilla</option>
                        <option value="Madera o tejamanil">Madera o tejamanil</option>
                        <option value="Terrado con viguería">Terrado con viguería</option>
                        <option value="Teja">Teja</option></select><br><br>
                </div>
                <div><label for="l22"> ¿De qué material es la mayor parte de las paredes o muros de su vivienda? </label><br> 
                <select name="material_paredes"><option value="Material de desecho (cartón, hule, tela, llanta)">Material de desecho (cartón, hule, tela, llanta)</option>
                        <option value="Lámina de cartón">Lámina de cartón</option>
                        <option value="Lámina metálica / asbesto">Lámina metálica / asbesto</option>
                        <option value="Carrizo, bambú o palma">Carrizo, bambú o palma</option>
                        <option value=" Embarro o bajareque">Embarro o bajareque </option>
                        <option value="Adobe">Adobe</option>
                        <option value="Madera">Madera</option>
                        <option value="Tabique, ladrillo, block o concreto ">Tabique, ladrillo, block o concreto </option></select><br><br>
                </div>
                <div><label for="l23"> ¿Qué tipo de baño o escusado tiene en su vivienda ? </label><br> 
                <select name="tipo_baño"><option value="No tiene">No tiene</option>
                        <option value="Pozo u hoyo negro">Pozo u hoyo negro</option>
                        <option value="Le echan agua con cubeta">Le echan agua con cubeta</option>
                        <option value="Sin admisión de agua (letrina seca / húmeda)">Sin admisión de agua (letrina seca / húmeda)</option>
                        <option value="Con conexión y con descarga directa de agua">Con conexión y con descarga directa de agua</option></select> <br><br>
                </div>           
                <div><label for="l24">¿Qué tipo de drenaje o desagüe de aguas tiene en su vivienda? </label><br> 
                <select name="tipo_drenaje" ><option value="A la red pública ">A la red pública </option>
                        <option value="A una fosa séptica ">A una fosa séptica </option>
                        <option value="No tiene desagüe">No tiene desagüe</option>
                        <option value="A una tubería que da a una grieta o barranca">A una tubería que da a una grieta o barranca</option>
                        <option value="A una tubería que da a un río, lago o mar"> A una tubería que da a un río, lago o mar</option></select> <br><br></div>

                <div><label for="l25">¿En su vivienda, que hacen con la basura? </label><br> 
                <select name="tratamiento_basura"><option value="La queman">La queman</option>
                        <option value="La tiran al río, lago, mar o barranca">La tiran al río, lago, mar o barranca </option>
                        <option value="La tiran en un terreno baldío o calle">La tiran en un terreno baldío o calle</option>
                        <option value="La tiran en el basurero público">La tiran en el basurero público </option>
                        <option value="La tiran en un contenedor, la recoge un camión / carro de basura "> La tiran en un contenedor, la recoge un camión / carro de basura </option></select> <br><br></div>

                <div><label for="l26"> En su vivienda, ¿la luz eléctrica la obtienen? </label><br> 
                <select name="obtencion_luz"><option value="Del servicio público">Del servicio público</option>
                        <option value="De una planta particular ">De una planta particular </option>
                        <option value="De panel solar">De panel solar</option>
                        <option value="De otra fuente ">De otra fuente </option>
                        <option value="No tienen luz eléctrica ">No tienen luz eléctrica </option></select> <br><br></div>

                <div><label for="l27">  ¿Cuál es el combustible que más usan para cocinar?</label><br> 
                <select name="combustible_cocina">
                        <option value="Electricidad ">Electricidad </option>
                        <option value="Gas L.P. ">Gas L.P. </option>
                        <option value="Leña o carbón">Leña o carbón</option></select> <br><br></div>

                <div><label for="l28">. La vivienda que habita, ¿es? </label><br> 
                <select name="estatus_casa"><option value="Propia y está pagada ">Propia y está pagada</option>
                        <option value="Propia y la está pagando">Propia y la está pagando  </option>
                        <option value="Propia y está hipotecada">Propia y está hipotecada</option>
                        <option value="Prestada o al está cuidando">Prestada o al está cuidando</option>
                        <option value="Rentada o alquilada">Rentada o alquilada</option></select> <br><br></div>

                
            </div></div>
        </div>

        <div class="accordion-item">
            <h2 class="accordion-header" id="headingSalud">
                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSalud" aria-expanded="false" aria-controls="collapseSalud">
                    Salud
                </button>
            </h2>
            <div id="collapseSalud" class="accordion-collapse collapse" aria-labelledby="headingSalud" data-bs-parent="#formAccordion">
                <div class="accordion-body">
                   
            <div><label for="l11">¿Actualmente padece alguna enfermedad?:</label><br> 
            <input type="text" id="enfermedad_actual" name="enfermedad_actual" placeholder="No, Si/Especifique" required><br><br>
            </div>
            <div><label for="l12">Actualmente, ¿a qué Institución está afiliada/o <br> o inscrita/o para recibir atención médica?</label><br>
                <select name="servicio_medico"><option value="Instituto de la Salud para el Bienestar">Instituto de la Salud para el Bienestar</option>
                    <option value="PEMEX, Defensa o Marina">PEMEX, Defensa o Marina</option>
                    <option value="IMSS">IMSS</option>
                    <option value="Clínica u hospital privado">Clínica u hospital privado</option>
                    <option value="ISSSTE">ISSSTE</option>
                    <option value="A ninguna">A ninguna</option></select><br><br>
            </div>
            <div><label for="l13">¿A que se dedica actualmente?</label><br> 
            <select name="ocupacion_actual" ><option value="Trabaja">Trabaja</option>
                    <option value="Busca trabajo">Busca trabajo</option>
                    <option value="Estudia">Estudia</option>
                    <option value="Estudia y Trabaja">Estudia y Trabaja</option>
                    <option value="Se dedica al hogar">Se dedica al hogar</option>
                    <option value="Elabora artesanias">Elabora artesanias</option></select><br><br>   
            </div>
            <div><label for="l14">Nivel de escolaridad</label><br> 
            <select name="escolaridad"><option value="Kinder/preescolar">Kinder/preescolar</option>
                    <option value="Primaria">Primaria</option>
                    <option value="Secuandaria">Secuandaria</option>
                    <option value="Preparatoria/Bachillerato">Preparatoria/Bachillerato</option>
                    <option value="Carrera técnica o comercial">Carrera técnica o comercial</option>
                    <option value="Profecional/Licenciatura">Profecional/Licenciatura</option>
                    <option value="Maestria/doctorado">Maestria/doctorado</option></select><br><br>
            </div>
            <div><label for="l15">¿Cual es su mayor fuente de ingreso?</label><br>
            <input type="text" id="fuente_ingreso" name="fuente_ingreso" required><br><br>
            </div>
            <div><label for="l16">¿Cuanto tiempo se dedica a trabajar?</label><br>
            <input type="text" id="frecuencia_trabajo" name="frecuencia_trabajo" required><br><br>
            </div>
            <div><label for="l17">¿Es persona pensionada o juvilada?<br>¿Cuanto dinero percibe al mes?</label><br>
            <input type="text" id="ingreso_extra" name="ingreso_extra" placeholder="$ 100,000 MXN" required><br><br>
            <button type="submit">Guardar Datos</button>
            </div>
            </div>
                </div>
            
        </div>
    

</form> <!--<script>alert("Todos los datos fueron guardados correctamente");window.location.href = "/candidato";</script> -->

        <div class="accordion-item">
            <h2 class="accordion-header" id="headingDocumentos">
                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseDocumentos" aria-expanded="false" aria-controls="collapseDocumentos">
                    Documentos Adjuntos
                </button>
            </h2>
            <div id="collapseDocumentos" class="accordion-collapse collapse" aria-labelledby="headingDocumentos" data-bs-parent="#formAccordion">
                <div class="accordion-body">
                    <form method="post" action="/subir_documento" enctype="multipart/form-data">
                        <input type="hidden" name="candidato_id" value="{{ candidato_id }}">
                        <div class="mb-3">
                            <label for="archivos" class="form-label">Selecciona documentos</label>
                            <input class="form-control" type="file" id="archivos" name="archivos" multiple>
                        </div>
                        <button type="submit" class="btn btn-primary">Subir documentos</button>
                    </form>
                    <hr>
                    <h5>Documentos subidos</h5>
                    <ul class="list-group">
                        {% for doc in documentos %}
                        <li class="list-group-item d-flex justify-content-between align-items-center">
                            <span>{{ doc.nombre_archivo }}</span>
                            <a href="{{ doc.ruta }}" target="_blank" class="btn btn-sm btn-outline-primary">Ver</a>
                        </li>
                        {% endfor %}
                    </ul>
                </div>
            </div>
        </div>
    </div>
</div>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
